---
title: Base64编码
date: 2025-05-05
categories:
  - 计算机基础
order: 5
---

# Base64编码

::: tip

不算加密，一种编码方式，应用的场景还挺多的🤔todo

:::



## 简介

Base64的核心目标是**将二进制数据转换为纯文本**，以便在仅支持文本的环境中处理二进制内容。以下是其典型应用场景：

1. **电子邮件传输** 
   早期电子邮件协议仅支持ASCII文本，通过Base64编码可将附件（如图片、文档）转为文本传输。
2. **网页资源内嵌** 
   将小图片转为Base64字符串嵌入HTML/CSS，减少HTTP请求，提升加载速度（需权衡文件大小）。
3. **API数据传输** 
   在JSON或XML中安全传输二进制数据（如加密后的密钥）。
4. **URL与Cookie安全** 
   URL安全的Base64变体可用于传递参数，避免特殊字符冲突。



## 编码原理

### 基本规则
- **字符集**：包含 `A-Z`、`a-z`、`0-9`、`+`、`/` 共64个字符，`=` 用于填充。
- **转换流程**：
  1. 将二进制数据按每**3字节（24bit）** 分组。
  2. 每组拆分为4个**6bit**片段，每个片段转为十进制数。
  3. 查Base64索引表，将十进制数转为对应字符。



#### 编码过程

以十六进制数据 `0xe4`, `0xb8`, `0xad` 为例：
```
原始二进制（24位）: 11100100 10111000 10101101
按六位分组（4组） : 00111001 00001011 00100010 00101101
对应十进制       : 57        11        34        45
查表得字符       : 5         L         i         t
编码结果         : 5Lit
```



### 填充规则

- 若二进制数据不足3字节倍数，末尾补`0x00`，编码后添加`=`表示填充：
  - 补1字节 → 加1个`=`
  - 补2字节 → 加2个`=`



## 变体与安全性

### URL安全变体
- **问题**：标准Base64中的`+`和`/`在URL中需转义。
- **解决方案**：使用`-`代替`+`，`_`代替`/`，并省略填充符`=`（可选）。

### 编码效率
- **缺点**：编码后数据体积增加约33%（3字节→4字符）。
- **适用场景**：小文件或文本协议传输，避免大文件使用。



## 实际应用案例

### HTML内嵌图片
```html
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX///8AAABVwtN+AAAAE0lEQVR4nGJY+Q8AAZ0A/wX0AR0A6AAAAABJRU5ErkJggg==">
```



## 参考三三
- https://tools.ietf.org/html/rfc4648
- https://developer.mozilla.org/zh-CN/docs/Glossary/Base64
