## CAS（Compare and Swap）

CAS 是一种并发编程中常用的原子操作，用于解决多线程环境下的数据竞争问题。它是乐观锁算法的一种实现方式。

### CAS 的执行过程

1. 比较（Compare）：将内存地址 V 中的值与预期值 A 进行比较。
2. 判断（Judgment）：如果相等，则说明当前值和预期值相等，表示没有发生其他线程的修改。
3. 交换（Swap）：使用新的值 B 来更新内存地址 V 中的值。

CAS 操作是一个原子操作，保证了线程安全性。

### CAS 的限制

- **ABA 问题**：CAS 操作无法感知到对象值从 A 变为 B 又变回 A 的情况，可能会导致数据不一致。为了解决 ABA 问题，可以引入版本号或标记位等机制。
- **自旋开销**：当 CAS 操作失败时，需要不断地进行重试，会占用 CPU 资源。
- **并发性限制**：如果多个线程同时对同一内存地址进行 CAS 操作，只有一个线程的 CAS 操作会成功，其他线程需要重试或放弃操作。