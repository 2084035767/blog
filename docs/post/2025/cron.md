---
title: 关于| cron 表达式
date: 2025-2-21
categories:
  - 编程知识
order: 4
---

# Cron 表达式

::: tip 前言

今天带来非常简单的 Cron 表达式 😶，铛铛铛

:::

## 简介

Cron 表达式是一种时间表达式，用于指定在何时执行计划任务。 它由一系列字段组成，每个字段代表任务在不同时间维度的调度规则。 Cron 表达式常用于各种系统中，如操作系统的定时任务、应用程序的定时调度、数据备份等。

> 类似于下面
>
> ```bash
> *  *  *  *  *  ?
> 秒|分|时|日|月|星期
> ```



## cron 表达式的组成

> **小贴士**：需要的时候可以“百度”，有很多在线工具

cron表达式是一个字符串，由6到7个字段组成，用空格分隔。其中前6个字段是必须的，最后一个是可选的。每个字段的含义如图所示：

| 字段                     | 允许值                          | 允许的特殊字符           |
| ------------------------ | ------------------------------- | ------------------------ |
| 秒（Seconds）            | 0~59的整数                      | , - * / 四个字符         |
| 分（Minutes）            | 0~59的整数                      | , - * / 四个字符         |
| 小时（Hours）            | 0~23的整数                      | , - * / 四个字符         |
| 日期（DayofMonth）       | 1~31的整数（需要考虑月的天数）  | ,- * ? / L W C 八个字符  |
| 月份（Month）            | 1~12的整数或者 JAN-DEC          | , - * / 四个字符         |
| 星期（DayofWeek）        | 1~7的整数或者 SUN-SAT （1=SUN） | , - * ? / L C # 八个字符 |
| 年(可选，不常用)（Year） | 1970~2099                       | , - * / 四个字符         |



## corn各个字段的含义

> 看看就行，没必要记😋

| 字符 | 含义                                                         | 举例                                                         |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| `*`  | 每的意思。                                                   | 例如，在秒字段中表示“每秒”，在分钟字段中表示“每分钟”。       |
| `-`  | 指定值的范围。                                               | 例如 `[1-10]` 在秒字段中表示每分钟的第 1 到 10 秒。          |
| `,`  | 指定某几个值。                                               | 例如 `[2,4,5]` 在秒字段中表示每分钟的第 2、4、5 秒。         |
| `/`  | 指定值的起始和增加幅度。                                     | 例如 `[3/5]` 在秒字段中表示从第 3 秒开始，每隔 5 秒触发一次。 |
| `?`  | 仅用于“日期”和“星期”字段，表示不指定值。                     | 例如，`0 0 2 ? * *` 表示每月的某一天凌晨 2 点触发任务，但不指定具体是星期几。 |
| `L`  | 代表“Last”，用于日期和星期字段，<br />表示“最后一日”或“最后一个星期几”。 | 例如，`L` 在日期字段中表示“每月的最后一天”。                 |
| `W`  | 用于日期字段，表示“最近的工作日”。                           | 例如，`15W` 表示“最近的工作日（非周末）”。                   |
| `C`  | 代表“Calendar”，用于日期和星期字段，表示“计算日历”。         |                                                              |
| `#`  | 用于星期字段，表示“第几个星期几”。                           | 例如，`6#3` 表示“每月的第三个星期五”。                       |



## 常用表达式示范

- **每隔 5 秒执行一次**：`*/5 * * * * ?`
- **每隔 1 分钟执行一次**：`0 */1 * * * ?`
- **每小时的第 20 分钟执行一次**：`0 20 * * * ?`
- **每天凌晨 2 点 35 分执行一次**：`0 35 2 * * ?`
- **每月 1 日凌晨 2 点执行一次**：`0 0 2 1 * ?`
- **每天上午 10 点、下午 2 点、4 点各执行一次**：`0 0 10,14,16 * * ?`



## 参考

- https://zhuanlan.zhihu.com/p/437328366
- AI