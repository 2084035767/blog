---
title: èƒ¡è¯´| åŒ…ç®¡ç†ç®€æ˜ä½¿ç”¨
date: 2024-1-8
categories: 
  - ç¼–ç¨‹çŸ¥è¯†
tags: 
  - npm
order: 1
---

# åŒ…ç®¡ç†ç®€æ˜ä½¿ç”¨

::: tip å‰è¨€

ä¸Šæ¬¡èƒ¡è¯´äº† â€œpackage.jsonâ€æ–‡ä»¶ï¼Œå…¶å®å®ƒå°±æ˜¯åŒ…ç®¡ç†çš„â€œäº§ç‰©â€œï¼Œæ‰€ä»¥è¿™æ¬¡è¯´è¯´**åŒ…ç®¡ç†**

:::

## åŒ…ç®¡ç†å™¨ç®€ä»‹

> è¿™æ¬¡ä¸»è¦æ³¨é‡æ“ä½œï¼Œå°±ä¸è¯¦ç»†è®²å«ä¹‰äº†ğŸ˜‰

**åŒ…ç®¡ç†å™¨(package manager)**ï¼ˆæˆ–â€œè½¯ä»¶åŒ…ç®¡ç†å™¨â€ï¼‰æ˜¯ä¸€ç§å·¥å…·ï¼Œå®ƒå…è®¸ç”¨æˆ·åœ¨æ“ä½œç³»ç»Ÿä¸Šå®‰è£…ã€åˆ é™¤ã€å‡çº§ã€é…ç½®å’Œç®¡ç†è½¯ä»¶åŒ…ã€‚è½¯ä»¶åŒ…ç®¡ç†å™¨å¯ä»¥æ˜¯åƒâ€œè½¯ä»¶ä¸­å¿ƒâ€è¿™æ ·çš„å›¾å½¢åŒ–åº”ç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å‘½ä»¤è¡Œå·¥å…·ã€‚



## JSçš„å¸¸ç”¨åŒ…ç®¡ç†å™¨

#### npm

npm æ˜¯ Node.js çš„å®˜æ–¹åŒ…ç®¡ç†å™¨ï¼Œä¹Ÿæ˜¯ JavaScript ç”Ÿæ€ç³»ç»Ÿä¸­æœ€å—æ¬¢è¿çš„åŒ…ç®¡ç†å™¨ä¹‹ä¸€ã€‚npm å…·æœ‰è®¸å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è‡ªåŠ¨ä¾èµ–é¡¹è§£æå’Œç‰ˆæœ¬æ§åˆ¶ã€‚ä½†æ˜¯ï¼Œç”±äºå®ƒæ˜¯å•çº¿ç¨‹è§£æä¾èµ–é¡¹ï¼Œå› æ­¤å®‰è£…é€Ÿåº¦å¯èƒ½ç›¸å¯¹è¾ƒæ…¢ã€‚

#### yarn

yarn æ˜¯ Facebook å¼€å‘çš„åŒ…ç®¡ç†å™¨ï¼Œæ—¨åœ¨è§£å†³ npm çš„ä¸€äº›é—®é¢˜ã€‚yarn é€šè¿‡å¹¶è¡Œä¸‹è½½å’Œç¼“å­˜æ¥åŠ å¿«å®‰è£…é€Ÿåº¦ï¼Œå¹¶é€šè¿‡é”å®šæ–‡ä»¶ç¡®ä¿å®‰è£…è¿‡ç¨‹ä¸­ä½¿ç”¨ç›¸åŒçš„ä¾èµ–é¡¹ç‰ˆæœ¬ã€‚æ­¤å¤–ï¼Œyarn è¿˜æä¾›äº†ä¸€äº›å…¶ä»–åŠŸèƒ½ï¼Œä¾‹å¦‚ç¦»çº¿æ¨¡å¼å’Œæ›´å¥½çš„è„šæœ¬æ‰§è¡Œã€‚

#### pnpm

pnpm æ˜¯å¦ä¸€ä¸ª JavaScript åŒ…ç®¡ç†å™¨ï¼Œå®ƒä¸ npm å’Œ yarn ç›¸æ¯”æœ‰ä¸€äº›ä¸åŒä¹‹å¤„ã€‚pnpm å…·æœ‰ç±»ä¼¼äº yarn çš„é€Ÿåº¦å’Œç¨³å®šæ€§ï¼Œä½†ä¸ yarn ä¸åŒçš„æ˜¯ï¼Œå®ƒé‡‡ç”¨äº†ä¸€ç§ä¸åŒçš„ä¾èµ–é¡¹è§£ææ–¹æ³•ï¼Œå³å°†ä¾èµ–é¡¹å®‰è£…åœ¨å•ä¸ªä½ç½®ï¼Œå¹¶ä½¿ç”¨ç¬¦å·é“¾æ¥å°†å®ƒä»¬é“¾æ¥åˆ°æ¯ä¸ªé¡¹ç›®ä¸­ã€‚

| ç‰¹ç‚¹       | npm              | yarn             | pnpm             |
| ---------- | ---------------- | ---------------- | ---------------- |
| å®‰è£…é€Ÿåº¦   | ç›¸å¯¹è¾ƒæ…¢         | å¿«               | æœ€å¿«             |
| ç‰ˆæœ¬æ§åˆ¶   | æœ‰               | æœ‰               | æœ‰               |
| ç¦»çº¿æ¨¡å¼   | ä¸æ”¯æŒ           | æ”¯æŒ             | æ”¯æŒ             |
| å¹¶è¡Œä¸‹è½½   | ä¸æ”¯æŒ           | æ”¯æŒ             | æ”¯æŒ             |
| å†…å­˜ç®¡ç†   | ä¸€èˆ¬             | ä¸€èˆ¬             | æ›´å¥½             |
| ä¾èµ–é¡¹ç¼“å­˜ | å ç”¨è¾ƒå¤šç£ç›˜ç©ºé—´ | å ç”¨è¾ƒå¤šç£ç›˜ç©ºé—´ | å ç”¨è¾ƒå°‘ç£ç›˜ç©ºé—´ |
| å…¼å®¹æ€§     | è‰¯å¥½             | è‰¯å¥½             | å¯èƒ½å­˜åœ¨é—®é¢˜     |
| ç¤¾åŒºæ”¯æŒ   | å¹¿æ³›æ”¯æŒ         | å¹¿æ³›æ”¯æŒ         | è¾ƒæ–°ï¼Œæ”¯æŒè¾ƒå°‘   |

## åŸºç¡€å‘½ä»¤

> pnpm ç”¨æ³•ç±»ä¼¼ npmï¼Œä»¥ä¸‹çœç•¥ğŸ˜¶

### åˆå§‹åŒ–é¡¹ç›®

::: code-group

```sh [npm]
# åˆå§‹åŒ–é¡¹ç›®
npm init

# å¿«é€Ÿç”Ÿæˆçš„package.jsoné»˜è®¤é…ç½®
npm init -y
```

```sh [yarn]
# åˆå§‹åŒ–é¡¹ç›®
yarn init

# å¿«é€Ÿç”Ÿæˆçš„package.jsoné»˜è®¤é…ç½®
yarn init -y
```

:::

### å®‰è£…ä¾èµ–

::: code-group

```sh [npm]
# å®‰è£…å…¨éƒ¨ä¾èµ–
npm install
npm i # ç®€å†™

# å®‰è£…ä¾èµ–
npm install <package>
npm i <package>

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
npm i <package>@<version>
npm i <package>@<tag>

# å…¨å±€å®‰è£…ä¾èµ–
npm i -g <package>
```



```sh [yarn]
# å®‰è£…å…¨éƒ¨ä¾èµ–
yarn
yarn install

# å®‰è£…ä¾èµ–
yarn add <package>

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
yarn add <package>@<version>
yarn add <package>@<tag>

# å…¨å±€å®‰è£…ä¾èµ–
yarn global add <package>
```

:::

::: details çŸ¥è¯†æ‰©å±•

#### å®‰è£…å¤±è´¥

å®‰è£…ä¾èµ–æ—¶å¡æ–­ï¼Œæˆ–è€…ä¸­æ–­å®‰è£…ä¾èµ–ï¼Œåé¢å†é‡æ–°å®‰è£…ï¼Œä¼šæç¤ºæŠ¥é”™è¿™æ˜¯å› ä¸ºæœ‰ç¼“å­˜çš„åŸå› 

```sh [yarn]
# 1.åˆ é™¤ node_modules åŒ…é‡æ–°å®‰è£…

# 2.åˆ é™¤ç¼“å­˜
npm cache clean --force
```



#### é¢å¤–å‚æ•°

`--no-save`ï¼šé¡¹ç›®ä¸´æ—¶ä¾èµ–

`--save`ï¼šé¡¹ç›®ç”Ÿäº§ä¾èµ–ï¼Œç®€å†™ -S

```sh
npm install <package> -S
```

`--save-dev`ï¼šé¡¹ç›®å¼€å‘ä¾èµ–ï¼Œç®€å†™ -D

```sh
npm install <package> -D
```



:::

### ç®¡ç†ä¾èµ–

> å…¨å±€ä¾èµ–æ·»åŠ  `-g` æˆ– `global` å‚æ•°ï¼Œä»¥ä¸‹çœç•¥å…¨å±€ä¾èµ–ğŸ˜¶

::: code-group

```sh [npm]
# æŸ¥çœ‹é¡¹ç›®ä¾èµ–
npm list

# æ›´æ–°å…¨éƒ¨ä¾èµ–
npm update

# æ›´æ–°æŒ‡å®šä¾èµ–
npm update <package>
```



```sh [yarn]
# æŸ¥çœ‹é¡¹ç›®ä¾èµ–
yarn list

# æ›´æ–°å…¨éƒ¨ä¾èµ–
yarn upgrade

# æ›´æ–°æŒ‡å®šä¾èµ–
yarn upgrade <package>
```

:::

### å¸è½½ä¾èµ–

> å…¨å±€ä¾èµ–æ·»åŠ  `-g` æˆ– `global` å‚æ•°ï¼Œä»¥ä¸‹çœç•¥å…¨å±€ä¾èµ–ğŸ˜¶

::: code-group

```sh [npm]
# å¸è½½ä¾èµ–
npm uninstall <package>
```



```sh [yarn]
# å¸è½½ä¾èµ–
yarn remove <package>
```

:::

### è¿è¡Œè„šæœ¬

> å°±æ˜¯ â€œpackage.jsonâ€æ–‡ä»¶é‡Œçš„ â€œscriptsâ€ å­—æ®µï¼Œä½ ä¸ä¼šå¿˜äº†å§ğŸ¤”

::: code-group

```sh [npm]
#  è¿è¡Œè„šæœ¬
npm run [script]
```



```sh [yarn]
#  è¿è¡Œè„šæœ¬
yarn run [script]
```

:::



### ç®¡ç†é•œåƒæº

> æ­¤å¤„ä¸æ¨èå›½å†…æºï¼Œè¯·è‡ªå¯»æŸ¥æ‰¾

```sh
# æŸ¥çœ‹å½“å‰é•œåƒæº
npm config get registry

yarn config get registry

# è®¾ç½®é•œåƒæº
# å…¨å±€ä½¿ç”¨
npm config set registry https://registry.npmmirror.com

# ä¸´æ—¶ä½¿ç”¨
npm i --registry https://registry.npmmirror.com

# è¿˜åŸé•œåƒæº
npm config set registry https://registry.npmjs.org
```



#### ç®¡ç†é•œåƒæºå·¥å…·

```sh
npm install -g yrm

npm install -g nrm

# åˆ—å‡ºå½“å‰é•œåƒæº
nrm ls

# æµ‹è¯•é•œåƒæº
nrm test taobao

# ä½¿ç”¨é•œåƒæº
nrm use taobao
```

## å†™åœ¨æœ€å

> æ­å–œä½ å­¦ä¼šäº†åŒ…ç®¡ç†åŸºç¡€å‘½ä»¤ğŸ‰ã€‚æƒ³è¦æ·±åº¦å­¦ä¹ ï¼Œè¯·æŸ¥è¯¢ç›¸å…³èµ„æ–™ã€‚

è¿™äº›å‘½ä»¤æ˜¯æœ€åŸºç¡€çš„åŒæ—¶ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ï¼Œåªè¦å­¦ä¼šè¿™äº›ä½ å°±ä¼š80%çš„æ“ä½œï¼ˆ**80%**ï¼Œæˆ‘è¯´çš„ğŸ˜‰ï¼‰



## å‚è€ƒä¸‰ä¸‰

- https://juejin.cn/post/7226661422021754936

- https://juejin.cn/post/7009674584211324964
