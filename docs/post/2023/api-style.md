---
title: 关于| API设计风格
date: 2023-6-5
categories: 
  - 知识科普
tags: 
  - 设计风格
order: 6
---



::: warning 提示

TODO 待修改

:::

<div v-if="0">



# API 设计风格

::: tip 前言

嗐，写 JavaWeb 项目的看见了，就了解了解。你信我吧？😉

:::



## 简介

> 在写JavaWeb项目的API接口，我们可能见过RESTful风格。其实就是一种API的约定规范，你不遵守也没关系😶。

API风格是指在设计和实现API时所采用的架构和规范，用于定义API的结构、交互方式和通信协议。不同的API风格具有不同的特点和使用场景。



## API 风格类型

API（Application Programming Interface）风格类型主要有以下几种

- `REST（Representational State Transfer）`风格：`REST`是一种基于HTTP协议的软件架构风格，强调使用统一的接口进行资源的访问和操作`RESTful API`使用HTTP动词（如GET、POST、PUT、DELETE）对资源进行操作，并使用URL来标识资源。

- `RPC（Remote Procedure Call）`风格：`RPC`是一种远程过程调用的通信协议，用于实现不同计算机之间的通信和数据传输。RPC风格的API允许客户端应用程序调用远程服务器上的方法，并获取返回结果。

- `GraphQL（Graph Query Language）`风格：`GraphQL`是一种用于API查询和操作的查询语言和运行时环境。它提供了一种灵活的方式来获取客户端需要的数据，并减少了网络传输的数据量。

- `SOAP（Simple Object Access Protocol）`风格：`SOAP`是一种基于XML的通信协议，用于在网络上进行远程过程调用。它定义了一组规范和标准，用于描述消息的结构和交互方式。

- `gRPC（Google Remote Procedure Call）`风格：`gRPC`是一种高性能、通用的远程过程调用框架，使用`Protocol Buffers`作为接口定义语言。它支持多种编程语言和平台，并提供了强大的功能，如双向流式传输和身份验证。



### API 风格类型分类

> 其实能接触的就几种，了解就行😶

| Web API          | 查询 API  | 发布订阅 API | RPC API |
| ---------------- | --------- | ------------ | ------- |
| `REST`           | `GraphQL` | `Kafka`      | `SOAP`  |
| `so-called REST` |           | `WebSub`     | `gRPC`  |
|                  |           |              | `tRPC`  |



## 常见 API 风格

> 了解为主，都不太好懂，遇到你就知道了😉

### REST

REST（Representational State Transfer）是一种软件架构风格，用于构建网络应用程序。它是基于HTTP协议的一组准则和约束，旨在实现系统的可伸缩性、可靠性、可扩展性和简单性。

适用：REST 非常适合构建持久的可扩展系统。它也是一种相对灵活和成熟的风格，因此适用于内容协商、多媒体和顶级身份验证等内容。



### GraphQL

GraphQL是一种灵活、高效的查询语言和运行时环境，用于构建API，以满足客户端精确的数据需求。

适用：GraphQL适用于需要灵活、高效、精确数据查询的场景，特别是在前后端分离、多端应用和复杂数据需求的情况下，能够提供更好的开发体验和数据交互效率。



### Apache Kafka

Apache Kafka是一个高吞吐量、可持久化、分布式流数据平台，用于处理实时数据流，实现高效的数据传输和消息处理。

适用：Apache Kafka适用于需要处理大规模实时数据流、构建分布式系统、实现数据管道和ETL流程、构建流式处理和事件驱动架构以及日志聚合和监控等场景。其高性能、可靠性和可扩展性使其成为处理实时数据和构建可靠的分布式系统的理想选择。



### gRPC

gRPC是一个高性能、开源的远程过程调用（RPC）框架，用于构建跨语言和跨平台的分布式系统，支持多种编程语言和通信协议。

适用：gRPC适用于需要高性能、跨语言、跨平台的远程过程调用场景，特别是在分布式系统和微服务架构中，以及需要双向流和流式处理的应用程序中，gRPC能够提供高效、可靠的通信机制。



### **一、基于资源的风格**

1. **REST（Representational State Transfer）**
   - **核心思想**：通过 HTTP 方法（GET/POST/PUT/DELETE）操作资源，URL 标识资源路径。
   - **特点**：无状态、可缓存、分层系统。
   - **适用场景**：前后端分离、标准化接口设计。
2. **REST-like API**
   - **核心思想**：借鉴 REST 理念，但未完全遵循其约束（如 HATEOAS）。
   - **特点**：灵活性高，常见于实际开发中。
3. **OData（Open Data Protocol）**
   - **核心思想**：基于 REST 的扩展协议，支持复杂查询（如筛选、排序、分页）。
   - **特点**：标准化查询语法（`$filter`, `$orderby`）。
   - **适用场景**：企业级数据服务。

------

### **二、基于远程调用的风格**

1. **RPC（Remote Procedure Call）**
   - **核心思想**：客户端直接调用服务端函数，类似本地方法调用。
   - **特点**：函数式交互，协议无关（如 HTTP、TCP）。
   - **子类**：
     - **gRPC**：基于 HTTP/2 和 Protocol Buffers，支持流式通信。
     - **JSON-RPC/XML-RPC**：基于 JSON 或 XML 的轻量级 RPC。
2. **SOAP（Simple Object Access Protocol）**
   - **核心思想**：基于 XML 的严格协议，定义完整的消息格式和安全标准。
   - **特点**：WS-* 标准（如 WS-Security），适合企业级应用。

------

### **三、基于查询的灵活风格**

1. **GraphQL**
   - **核心思想**：客户端自定义查询字段，精准获取所需数据。
   - **特点**：单端点、减少网络请求、强类型 Schema。
   - **适用场景**：多终端适配、复杂数据关联查询。
2. **Falcor**
   - **核心思想**：由 Netflix 提出，通过虚拟 JSON 模型简化数据获取。
   - **特点**：路径查询语法，与 GraphQL 类似但更轻量。

------

### **四、基于事件驱动的风格**

1. **发布订阅模式（Pub/Sub）**
   - **核心思想**：通过消息中间件实现异步通信，生产者发布事件，消费者订阅事件。
   - **代表技术**：
     - **Apache Kafka**：高吞吐量分布式消息流平台。
     - **WebSub**：基于 Web 的标准化发布订阅协议。
2. **Webhook**
   - **核心思想**：反向 API，服务端主动向客户端推送事件通知。
   - **特点**：基于 HTTP 回调，常用于支付回调、CI/CD 通知。

------

### **五、实时通信风格**

1. **WebSocket**
   - **核心思想**：全双工通信协议，支持服务端与客户端实时交互。
   - **特点**：长连接、低延迟，适合聊天、实时协作场景。
2. **Server-Sent Events (SSE)**
   - **核心思想**：服务端单向推送数据流至客户端。
   - **特点**：基于 HTTP，简单易用。

------

### **六、其他风格**

1. **tRPC**
   - **核心思想**：类型安全的 RPC 框架，专为 TypeScript 设计。
   - **特点**：无 Schema 定义，依赖 TypeScript 类型推断。
2. **HATEOAS（Hypermedia API）**
   - **核心思想**：API 响应中嵌入资源链接，客户端通过超媒体动态导航。
   - **特点**：严格遵循 REST 约束，但实际应用较少。





## 写在最后

最常见的还是 RESTful风格，尤其在前后端分离项目中，所以下次有机会详细讲讲。

> 又挖坑了🧐



## 参考三三

- https://juejin.cn/post/6971434012015493128#heading-1



</div>