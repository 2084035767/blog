# ç®€æ˜ C æ ‡å‡†åº“



## å¯¼å¼•ï¼šC æ ‡å‡†åº“ï¼Œå­¦äº›ä»€ä¹ˆï¼Ÿ

### ä¸ºä»€ä¹ˆè¦å­¦æ ‡å‡†åº“ï¼Ÿ

æœ‰ä¸€ä¸ªç²—æµ…çš„ç†ç”±ï¼Œå°±æ˜¯å›¾æ–¹ä¾¿ã€‚å‡è®¾æœ‰ä¸‹é¢è¿™ä¸ªå£°æ˜åœ¨ `main` å‡½æ•°ä¸­æ•°ç»„ï¼š

```c
int a[100];
```

æˆ‘ä»¬çŸ¥é“ï¼Œè¿™ä¸ªæ•°ç»„ä¸ä¼šè¢«åˆå§‹åŒ–ã€‚å¦‚æœæƒ³è¦æŠŠè¿™ä¸ªæ•°ç»„å…¨éƒ¨ç½®ä¸º 0ï¼Œä½ ä¼šæ€ä¹ˆå†™å‘¢ï¼Ÿ

é¦–å…ˆä¼šæœ‰çš„æƒ³æ³•è‚¯å®šæ˜¯ï¼š

```c
for (int i = 0; i < 100; ++i)
    a[i] = 0;
```

å…¶å®æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªå‡½æ•° `memset`ï¼Œç”¨æ¥è®¾ç½®ä¸€æ®µå†…å­˜çš„å€¼ï¼š

```c
memset(a, 0, sizeof(a));
```

æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ï¼Ÿ

å†æ¥ä¸€ä¸ªä¾‹å­ï¼ŒæŠŠè¾“å…¥ä¸­æ‰€æœ‰çš„å°å†™å­—æ¯è½¬æ¢æˆå¤§å†™å­—æ¯ã€‚å‡è®¾è¾“å…¥å·²ç»å­˜å‚¨åœ¨ `char` æ•°ç»„ `str` ä¸­ï¼Œæ ¹æ®ç°æœ‰çš„çŸ¥è¯†ï¼Œä½ ä¼šä¸ä¼šè¿™æ ·å†™ï¼š

```c
for(int i = 0; i < strlen(str); ++i)
    if ('a' <= str[i] && str[i] <= 'z')
        str[i] -= 'a' - 'A';
```

å…¶å®æ ‡å‡†åº“æä¾›äº†åˆ¤æ–­å­—ç¬¦å¤§å°å†™çš„å‡½æ•°ï¼Œä¹Ÿæä¾›äº†è½¬æ¢å¤§å°å†™çš„å‡½æ•°ï¼š

```c
for(int i = 0; i < strlen(str); ++i)
    if (islower(str[i]))
        str[i] = toupper(str[i]);
```

ä¸‹é¢çš„è¿™æ®µä»£ç ï¼Œæ˜¯ä¸æ˜¯æ¯”ä¸Šé¢çš„ä»£ç ç®€æ´ï¼Œå¹¶ä¸”ä¸€çœ¼çœ‹è¿‡å»å°±èƒ½æ˜ç™½æ„æ€å‘¢ï¼Ÿ

æ€»è€Œè¨€ä¹‹ï¼ŒC æ ‡å‡†åº“åŠŸèƒ½å¼ºå¤§ï¼Œå®ƒçš„é‡è¦æ€§å’Œè¯­è¨€æœ¬èº«ä¸€æ ·ã€‚å­¦ä¼šä½¿ç”¨æ ‡å‡†åº“ï¼Œè®©ä½ å°‘é€ è½®å­ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ã€ç®€æ´æ€§å’Œæ­£ç¡®æ€§ã€‚

### æ ‡å‡†åº“é‡Œæœ‰ä»€ä¹ˆï¼Ÿ

ğŸ’¡åœ¨ä½ çš„å°è±¡ä¸­ï¼Œæ ‡å‡†åº“æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿé‡Œé¢æœ‰ä»€ä¹ˆä¸œè¥¿ï¼Ÿ

æ¯ä¸€ä¸ªæ ‡å‡†åº“ä¼šå®šä¹‰è¿™äº›å†…å®¹ï¼š

- ç±»å‹å®šä¹‰
- å®
- å‡½æ•°

> å‡ ä¸ªè€³ç†Ÿèƒ½è¯¦çš„ä¾‹å­ï¼Œä½ èƒ½è¯´è¯´å®ƒä»¬æ˜¯ä»€ä¹ˆå—ï¼Ÿ
>
> - `NULL`ã€`EOF`
> - `printf`ã€`scanf`
> - `FILE`

æ¥ä¸‹æ¥çš„æ¯ä¸€èŠ‚æ˜¯ä¸€ä¸ªæ ‡å‡†åº“ï¼Œä¼šåˆ†ä¸º**èƒŒæ™¯ã€å†…å®¹ã€ä½¿ç”¨**ä¸‰ä¸ªéƒ¨åˆ†ã€‚å…¶ä¸­ã€ŒèƒŒæ™¯ã€éƒ¨åˆ†ä¼šä»‹ç»ä¸€äº›å‰ç½®çŸ¥è¯†ï¼Œã€Œå†…å®¹ã€éƒ¨åˆ†ä¼šä»‹ç»æ ‡å‡†åº“ä¸­çš„å†…å®¹ï¼Œã€Œä½¿ç”¨ã€éƒ¨åˆ†ä¼šä»‹ç»ä¸€äº›ä½¿ç”¨çš„ä¾‹å­ã€‚ã€Œå†…å®¹ã€ æ¨¡å—ä¸­ä»£ç æ®µå†…è¢«æ³¨é‡Šæ‰çš„å†…å®¹ï¼Œè¡¨ç¤ºä¸ä½œè¦æ±‚ã€‚

### èƒŒæ™¯çŸ¥è¯†

ä¸ºäº†èƒ½è·Ÿä¸Šæ¥ä¸‹æ¥çš„å†…å®¹ï¼Œç¡®è®¤ä¸€ä¸‹å¤§å®¶éƒ½æœ‰çš„çŸ¥è¯†ï¼š

- ä¼šé˜…è¯»å‡½æ•°åŸå‹ / å‡½æ•°å£°æ˜ / å‡½æ•°ç­¾åï¼ˆå®ƒä»¬è¯´çš„æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼‰ï¼š

   ```c
int main(void);
  ```

- [æŒ‡é’ˆ](https://ckc-agc.bowling233.top/programming/topic/pointers/) çš„æ¦‚å¿µ

  - å†…å­˜ã€å†…å­˜åœ°å€ã€å¯¹è±¡

  - æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªå†…å­˜åœ°å€

  - æŒ‡é’ˆå…·æœ‰ç±»å‹ä¿¡æ¯ï¼Œå†³å®šäº†æŒ‡é’ˆçš„è¿ç®—æ–¹å¼

  - æ•°ç»„ä¸æŒ‡é’ˆ

  - å¤šç»´æ•°ç»„æ¯”è¾ƒå¤æ‚

## `<ctype.h>`

å¤´æ–‡ä»¶ `<ctype.h>` å£°æ˜äº†å‡ ä¸ªå¯ä»¥ç”¨äº**è¯†åˆ«å’Œè½¬æ¢å­—ç¬¦**çš„å‡½æ•°ã€‚

### èƒŒæ™¯ï¼šASCII å­—ç¬¦é›†

ASCII å­—ç¬¦é›†ä¸­çš„æ•°å­—å’Œå­—æ¯å¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿäº†ï¼Œè¿™è¾¹å†å¯¹ä¸¤ç±»å¤§å®¶æ¥è§¦æ¯”è¾ƒå°‘çš„å­—ç¬¦åˆ†ç±»ç®€å•åšä¸ªä»‹ç»ã€‚

- æ‰“å°å­—ç¬¦ï¼š`0x20` ~ `0x7E`
- æ§åˆ¶å­—ç¬¦ï¼š`0x00` ~ `0x1F`å’Œ `0x7F`

### å†…å®¹

è¿™ä¸ªå¤´æ–‡ä»¶ä¸­åªæœ‰å‡½æ•°ï¼Œæ²¡æœ‰ç‰¹åˆ«çš„ç±»å‹å’Œå®ã€‚

è¿™äº›å‡½æ•°çš„æ„ä¹‰å’Œç”¨æ³•éå¸¸æ˜¾ç„¶ï¼Œå› æ­¤æˆ‘ä¹Ÿä¸åšæ³¨é‡Šã€‚

- å­—ç¬¦åˆ¤æ–­å‡½æ•°

  ```c
  int isalnum(int c);
  int isalpha(int c);
  // int iscntrl(int c);
  int isdigit(int c);
  // int isgraph(int c);
  int islower(int c);
  // int isprint(int c);
  // int ispunct(int c);
  int isspace(int c);
  int isupper(int c);
  // int isxdigit(int c);
  ```

- å­—ç¬¦è½¬æ¢å‡½æ•°

  ```c
  int tolower(int c);
  int toupper(int c);
  ```

### ä½¿ç”¨

`<ctype.h>` ä¸­çš„å‡½æ•°å¯¹ ASCII å­—ç¬¦å¤§è‡´ä½œäº†å¦‚ä¸‹åˆ’åˆ†ï¼š

![image-20240118163241569](C:/Users/20840/AppData/Roaming/Typora/typora-user-images/image-20240118163241569.png)

æ§åˆ¶å­—ç¬¦é‚£äº›ä¸ç”¨ç®¡ï¼Œä¸è¦æ±‚çš„å‡½æ•°ä¸ç”¨ç®¡ã€‚åªè¦è®°å¾— `isspace` å’Œ `isblank` çš„åŒºåˆ«å°±è¡Œäº†ã€‚



`isspace` å’Œ `isblank` çš„åŒºåˆ«

- **ç©ºæ ¼**å­—ç¬¦ï¼š`isblank` ä»…åˆ¤æ–­ç©ºæ ¼ ` `å’Œæ°´å¹³åˆ¶è¡¨ç¬¦ `\t`ã€‚
- **ç©ºç™½**å­—ç¬¦ï¼š`isspace` åˆ¤æ–­ç©ºæ ¼ `ã€`æ°´å¹³åˆ¶è¡¨ç¬¦ `\t`ã€æ¢è¡Œç¬¦ `\n`ã€å›è½¦ç¬¦ `\r`ã€æ¢é¡µç¬¦ `\f`ã€å‚ç›´åˆ¶è¡¨ç¬¦ `\v`ã€‚

### `<ctype.h>` çš„å®ç°ï¼šå®ä¸ä½è¿ç®—

é˜…è¯»æœ¬èŠ‚éœ€è¦å…·å¤‡çš„çŸ¥è¯†

- ä½è¿ç®—

çŸ¥é“å¯ä»¥ç”¨ä½æ¥æ ‡å¿—æŸäº›çŠ¶æ€ã€‚ä¸æˆ–éç­‰ä½è¿ç®—çš„æ¦‚å¿µã€‚

- å®

çŸ¥é“å®å‡½æ•°æ˜¯æ€ä¹ˆå±•å¼€çš„ã€‚



`<ctype.h>` ä¸­çš„å‡½æ•°é€šå¸¸ä½¿ç”¨å®æ¥å®ç°ã€‚ä½¿ç”¨å®å®ç°æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å› ç´ ï¼š

- è™½ç„¶å®å¯èƒ½æ¯”å‡½æ•°å¿«ï¼Œä½†æ˜¯å®ƒä»¬é€šå¸¸ä¼šäº§ç”Ÿæ›´å¤§çš„ä»£ç ã€‚å¦‚æœåœ¨å¾ˆå¤šåœ°æ–¹æ‰©å±•ï¼Œè¿™ä¸ªç¨‹åºå¯èƒ½å¤§åˆ°è®©ä½ æ— æ³•æƒ³è±¡ã€‚

- å®çš„å‚æ•°å¯èƒ½ä¼šè¢«æ±‚å€¼å¤šæ¬¡ï¼Œå…·æœ‰å‰¯ä½œç”¨çš„å®å‚æ•°ä¼šå¯¼è‡´æ„å¤–ã€‚

  > ä¸¾ä¸ªä¾‹å­

  ```
  #define SQUARE(X) ((X) * (X))
  SQUARE(x++); // x++ * x++
  ```

  ä½¿ç”¨è€…ä»¥ä¸ºå®ƒåªä¼šè®© `x` è‡ªå¢ä¸€æ¬¡ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒä¼šè®© `x` è‡ªå¢ä¸¤æ¬¡ã€‚

  > ä¼šäº§ç”Ÿä¸å®‰å…¨è¡Œä¸ºçš„å®
  >
  > æ ‡å‡†åº“ä¸­ï¼Œåªæœ‰ `getc` å’Œ `putc` å¯èƒ½ä¼šäº§ç”Ÿè¿™ç§ä¸å®‰å…¨è¡Œä¸ºã€‚

`<ctype.h>` ä¸­å®šä¹‰äº†ä¸€ä¸ªæŸ¥æ‰¾è¡¨ `_Ctype`ï¼Œä¸¤ä¸ªæ˜ å°„è¡¨ `_Tolower` å’Œ `_Toupper`ã€‚æ¯ä¸ªå­—ç¬¦éƒ½è¢«ç¼–å…¥æŸ¥æ‰¾è¡¨ä¸­ï¼Œä½¿ç”¨ä½è¿ç®—å°±èƒ½åˆ¤æ–­å‡ºå­—ç¬¦çš„ç±»å‹ã€‚

**ctype.h**

```
#define _DI 0x20 /* '0'-'9' */
#define _LO 0x10 /* 'a'-'z' */
#define _UP 0x02 /* 'A'-'Z' */
#define _XA 0x200 /* 'a'-'z', 'A'-'Z' */
extern const short *_Ctype, *_Tolower, *_Toupper;
#define isalnum(c) (_Ctype[(int)(c)] & (_DI|_LO|_UP|_XA))
#define tolower(c) _ToLower[(int)(c)]
```



**isalnum.c**

```
#include <ctype.h>

int isalnum(int c)
    { /* test for alphanumeric character */
    return (_Ctype[c] & (_DI|_LO|_UP|_XA));
    }
```



## `<math.h>`

### èƒŒæ™¯çŸ¥è¯†ï¼šå‡½æ•°çš„å®šä¹‰åŸŸä¸å€¼åŸŸ

æˆ‘ä»¬éƒ½çŸ¥é“æ•°å­¦å‡½æ•°æœ‰å®šä¹‰åŸŸå’Œå€¼åŸŸï¼Œ`<math.h>` ä¸­çš„å‡½æ•°ä¹Ÿæœ‰ï¼Œåªæ˜¯å¤§å®¶å¹³å¸¸ä½¿ç”¨çš„æ—¶å€™å¯èƒ½ä¸å¤ªå…³æ³¨ç½¢äº†ã€‚

- å¦‚æœå‡½æ•°çš„è¾“å…¥å‚æ•°ä½äºå®šä¹‰åŸŸå¤–ï¼ˆæ¯”å¦‚ `asin` è¾“å…¥äº†ä¸åœ¨ [âˆ’1,1] çš„å€¼ï¼‰ï¼Œä¼šå‘ç”Ÿå®šä¹‰åŸŸé”™è¯¯ã€‚
- å¦‚æœç»“æœä¸èƒ½è¢«è¡¨ç¤ºä¸º `double` å€¼ï¼Œå‘ç”Ÿå€¼åŸŸé”™è¯¯ã€‚ä¸Šæº¢è¿”å› `HUGE_VAL`ï¼Œä¸‹æº¢è¿”å› `0`ã€‚



### å†…å®¹

- å®

  ```
  HUGE_VAL
  ```

  GCC å®šä¹‰çš„å®

  ```
  INFINITY
  NAN
  ```

  ä¸Šé¢è¿™ä¸¤ä¸ªå®èµ·åˆä¸åœ¨æ ‡å‡†åº“ä¸­ï¼Œç”± GCC å®šä¹‰ã€‚

  > æ®è¯´åœ¨ C99 ä»¥åï¼Œ`INFINITY` è¢«æ ‡å‡†åº“çº³å…¥ï¼Œæˆ‘æ²¡æœ‰æŸ¥è¯ã€‚

- å‡½æ•°ï¼ˆä»…ä¸¾ä¸€äº›å¸¸ç”¨çš„

  ```
  double acos(double x);
  double asin(double x);
  double atan(double x);
  double cos(double x);
  double sin(double x);
  double tan(double x);
  double exp(double x);
  double log(double x);
  double log10(double x);
  double pow(double x, double y);
  double sqrt(double x);
  double ceil(double x);
  double fabs(double x);
  double floor(double x);
  ```

### ä½¿ç”¨

- è¾“å…¥è¾“å‡ºå…¨éƒ½æ˜¯ `double` ç±»å‹ï¼ˆæ³¨æ„éšå¼ç±»å‹è½¬æ¢å¸¦æ¥çš„å½±å“ï¼‰ã€‚

- ä¸‰è§’å‡½æ•°å‡ä¸ºå¼§åº¦åˆ¶ã€‚è§’åº¦åˆ°å¼§åº¦çš„è½¬æ¢å…¬å¼ä¸ºï¼šï¿½=ï¿½180Ã—ï¿½ã€‚

- æ²¡æœ‰PIè¿™ä¸ªå®ã€‚

  - å¯ä»¥ä½¿ç”¨ `atan(1)*4` ä»£æ›¿ã€‚
- GCC å®šä¹‰äº†ä¸€äº›æ•°å€¼å®ï¼Œå®ƒä»¬éƒ½ä»¥ `M_` å¼€å¤´ï¼Œæ¯”å¦‚ `M_PI`ã€‚å®ƒä»¬é»˜è®¤ä¸º `double` ç±»å‹ã€‚å¦‚æœä½ éœ€è¦å…¶ä»–ç²¾åº¦ï¼Œå¯ä»¥æ·»åŠ  `l` åç¼€ï¼Œæ¯”å¦‚ `M_PIl`ã€‚

## `<string.h>`

### èƒŒæ™¯çŸ¥è¯†ï¼šå­—ç¬¦ä¸²

**å­—ç¬¦ä¸²**å’Œ**å­—ç¬¦æ•°ç»„**ä¸€å®šè¦åŒºåˆ«å¼€æ¥ã€‚å­—ç¬¦ä¸²æ˜¯ä»¥ç©ºå­—ç¬¦ `\0` ç»“å°¾çš„å­—ç¬¦æ•°ç»„ã€‚

```
char name[13] = "StudyTonight";
char name[10] = {'c','o','d','e','\0'};
```

> `<string.h>` çš„å‡½æ•°åªè´Ÿè´£æ“ä½œå­—ç¬¦ä¸²ï¼Œä¸è´Ÿè´£æ“ä½œå­—ç¬¦æ•°ç»„ï¼
>
> è¿˜è®°å¾—æ•°ç»„ä¼ å…¥å‡½æ•°çš„æ—¶å€™ä¼šé€€åŒ–æˆæŒ‡é’ˆå—ï¼Ÿå‡½æ•°æ— æ³•è·çŸ¥æ•°ç»„çš„é•¿åº¦ï¼Œå› æ­¤ç©ºå­—ç¬¦æ˜¯å¸®åŠ©å‡½æ•°åˆ¤æ–­å­—ç¬¦ä¸²ç»“æŸã€é¿å…è¶Šç•Œçš„**å”¯ä¸€æ–¹æ³•**ã€‚
>
> å½“ç„¶ï¼Œ`strn` ç³»åˆ—å‡½æ•°æä¾›äº†æŒ‡å®šé•¿åº¦çš„å‚æ•°ã€‚

### å†…å®¹

- ç±»å‹

  ```
  size_t
  ```

- å®

  ```
  NULL
  ```

- å‡½æ•°

  - å¤åˆ¶å‡½æ•°

    ```
    void *memcpy(void *dest, const void *src, size_t n);
    void *memmove(void *dest, const void *src, size_t n);
    char *strcpy(char *dest, const char *src);
    char *strncpy(char *dest, const char *src, size_t n);
    ```

  - è¿æ¥å‡½æ•°

    ```
    char *strcat(char *dest, const char *src);
    char *strncat(char *dest, const char *src, size_t n);
    ```

  - æ¯”è¾ƒå‡½æ•°

    ```
    int memcmp(const void *s1, const void *s2, size_t n);
    int strcmp(const char *s1, const char *s2);
    int strncmp(const char *s1, const char *s2, size_t n);
    ```

  - æŸ¥æ‰¾å‡½æ•°

    ```
    void *memchr(const void *s, int c, size_t n);
    char *strchr(const char *s, int c);
    // size_t strcspn(const char *s1, const char *s2);
    // char *strpbrk(const char *s1, const char *s2);
    // char *strrchr(const char *s, int c);
    // size_t strspn(const char *s1, const char *s2);
    char *strstr(const char *s1, const char *s2);
    // char *strtok(char *s1, const char *s2);
    ```

  - å…¶ä»–å‡½æ•°

    ```
    void *memset(void *s, int c, size_t n);
    // char *strerror(int errnum);
    size_t strlen(const char *s);
    ```

### ä½¿ç”¨

ä½¿ç”¨å‰ï¼Œè‡ªå·±è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦å’Œå‰©ä½™ç©ºé—´ï¼Œè¿™æ˜¯ç¼–ç¨‹è€…çš„è´£ä»»ã€‚æˆ–è€…ä½¿ç”¨å¸¦ `n` çš„å‡½æ•°ã€‚

- æœ‰äº›å‡½æ•°å¯èƒ½è¿”å›ç©ºæŒ‡é’ˆï¼Œè®°å¾—æµ‹è¯•è¿”å›çš„æŒ‡é’ˆã€‚

## `<stdlib.h>`

å¤´æ–‡ä»¶ `<stdlib.h>` æ˜¯ä¸€ä¸ªå¤§æ‚çƒ©ï¼Œä¸ºäº†å®šä¹‰å’Œå£°æ˜é‚£äº›æ²¡æœ‰æ˜æ˜¾å½’å±çš„å®å’Œå‡½æ•°ã€‚æˆ‘ä»¬ä»…ä»‹ç»å¸¸ç”¨çš„éƒ¨åˆ†ï¼šæ•´å½¢æ•°å­¦ã€ç®—æ³•ã€æ–‡æœ¬è½¬æ¢ã€ç¯å¢ƒæ¥å£å’Œå­˜å‚¨åˆ†é…ã€‚

### å†…å®¹

- å®

  ```
  RAND_MAX
  EXIT_FAILURE
  EXIT_SUCCESS
  ```

- å‡½æ•°

  - ä¼ªéšæœºåºåˆ—äº§ç”Ÿå‡½æ•°

    ```
    int rand(void);
    void srand(unsigned int seed);
    ```

  - æ•´æ•°ç®—æœ¯å‡½æ•°

    ```
    int abs(int n);
    div_t div(int numer, int denom);
    long labs(long n);
    ldiv_t ldiv(long numer, long denom);
    ```

  - æŸ¥æ‰¾å’Œæ’åºå‡½æ•°

    ```
    void *bsearch(const void *key, const void *base, size_t n, size_t size, int (*compar)(const void *, const void *));
    void qsort(void *base, size_t n, size_t size, int (*compar)(const void *, const void *));
    ```

  - æ–‡æœ¬è½¬æ¢ï¼ˆå¥½ç”¨çš„ï¼‰

    ```
    double atof(const char *str);
    int atoi(const char *str);
    long atol(const char *str);
    double strtod(const char *str, char **endptr);
    long strtol(const char *str, char **endptr, int base);
    unsigned long strtoul(const char *str, char **endptr, int base);
    ```

  - ç¯å¢ƒé€šä¿¡ï¼ˆä¸ä»‹ç»ï¼‰

    ```
    // void abort(void);
    // int atexit(void (*func)(void));
    // void exit(int status);
    // char *getenv(const char *name);
    // int system(const char *string);
    ```

  - å†…å­˜ç®¡ç†ï¼ˆé‡éš¾ç‚¹ï¼‰

    ```
    void *calloc(size_t nobj, size_t size);
    void free(void *ptr);
    void *malloc(size_t size);
    void *realloc(void *ptr, size_t size);
    ```

    > æ³¨æ„ï¼Œå†…å­˜æ‹·è´å‡½æ•°å´åœ¨ `<string.h>` ä¸­ã€‚

- ç±»å‹

  ```
  div_t // int quot, rem;
  ldiv_t // long quot, rem;
  ```

### ä½¿ç”¨

- `rand` å’Œ `srand` ç”¨äºäº§ç”Ÿä¼ªéšæœºæ•°ã€‚`srand` ç”¨äºè®¾ç½®éšæœºæ•°ç§å­ï¼Œ`rand` ç”¨äºäº§ç”Ÿéšæœºæ•°ã€‚`rand` äº§ç”Ÿçš„éšæœºæ•°èŒƒå›´æ˜¯ [0,ï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½]ã€‚

- `abs` å’Œ `labs` ç”¨äºæ±‚ç»å¯¹å€¼ã€‚`div` å’Œ `ldiv` ç”¨äºæ±‚å•†å’Œä½™æ•°ã€‚

- qsortçš„ç”¨ä¾‹ï¼š
  
  ```
  int cmpfunc (const void * a, const void * b) {
      return ( *(int*)a - *(int*)b );
  }
  qsort(values, 5, sizeof(int), cmpfunc);
  ```
  
- æ–‡æœ¬è½¬æ¢å‡½æ•°éå¸¸å¥½ç”¨ã€‚ä½ å†ä¹Ÿä¸ç”¨å†™è¿™æ ·çš„ä»£ç äº†ï¼ˆå½“ç„¶atoiå‡½æ•°çš„å…·ä½“å®ç°è¦æ¯”è¿™å¤æ‚å¾—å¤šï¼‰ï¼š

  ```
  int atoi(char *str) {
      int res = 0;
      for (int i = 0; str[i] != '\0'; ++i)
          res = res * 10 + str[i] - '0';
      return res;
  }
  ```
  
- `malloc` è®°å¾—å‚æ•°æ˜¯**å­—èŠ‚æ•°**ï¼Œåƒä¸‡è®°å¾—ä¹˜ä¸Š `sizeof`ã€‚ä¸ºäº†é˜²æ­¢è‡ªå·±å¿˜è®°ï¼Œä¹Ÿå¯ä»¥åšæŒä½¿ç”¨ `calloc`ã€‚ä¸”å®ƒä¼šè‡ªåŠ¨åˆå§‹åŒ–å†…å­˜ä¸º 0ã€‚

- `realloc` ç›¸å½“äºç»“åˆäº† `malloc`ã€`memcpy` å’Œ `free` çš„åŠŸèƒ½ã€‚

## `<stdio.h>`

å…³äºæ–‡ä»¶è¾“å…¥è¾“å‡º ......

è¿™è¾¹åˆ—å‡ºäº†æ–‡ä»¶è¾“å…¥è¾“å‡ºçš„å†…å®¹ï¼Œç»™å¤§å®¶å¤ä¹ çš„æ—¶å€™å‚è€ƒç”¨ã€‚å’±ä»¬è¿™èŠ‚è¯¾ä¸è®²ã€‚

### èƒŒæ™¯çŸ¥è¯†ï¼šæµ

#### æµçš„æ¦‚å¿µ

å„ç§è¾“å…¥è¾“å‡ºè®¾å¤‡å®åœ¨æ˜¯å¤ªå¤šäº†ï¼ˆç»ˆç«¯ã€ç£å¸¦é©±åŠ¨å™¨ã€ç»“æ„åŒ–å­˜å‚¨è®¾å¤‡ ......ï¼‰ã€‚ä¸ºäº†ç»Ÿä¸€æ¦‚å¿µï¼ŒC è¯­è¨€ä¸­çš„è¾“å…¥å’Œè¾“å‡ºè®¾å¤‡å…¨éƒ½å’Œé€»è¾‘æ•°æ®**æµ**ç›¸å¯¹åº”ã€‚

> æµå°±æ˜¯å­—ç¬¦åºåˆ—ã€‚
>
> ä¸ç®¡ç³»ç»Ÿã€ç¡¬ä»¶æ˜¯æ€ä¹ˆå®ç°çš„ã€‚è¾“å…¥è¾“å‡ºåˆ°äº† C ç¨‹åºè¿™é‡Œï¼Œå°±ç»Ÿä¸€ä¸ºé€»è¾‘ä¸Šçš„**æµ**äº†ã€‚
>
> æµå…³è”åˆ°ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶ã€‚

#### æ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶

è®¡ç®—æœºç³»ç»Ÿä¸­çš„æ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š

- æ–‡æœ¬æ–‡ä»¶ï¼šå¦‚æœä¸€ä¸ªæ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶å€¼éƒ½æ˜¯ç”¨æ¥è¡¨ç¤ºå­—ç¬¦çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å°±æ˜¯æ–‡æœ¬æ–‡ä»¶ã€‚
- äºŒè¿›åˆ¶æ–‡ä»¶ï¼šå¦‚æœä¸€ä¸ªæ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶å€¼ä»£è¡¨å…¶ä»–æ•°æ®ï¼Œæ¯”å¦‚æœºå™¨è¯­è¨€ä»£ç æˆ–è€…æ•°å€¼æ•°æ®ã€å›¾ç‰‡æˆ–éŸ³ä¹ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

äºŒè¿›åˆ¶æ–‡ä»¶å­˜å‚¨çš„å†…å®¹æ¯”è¾ƒå¤æ‚ï¼Œæ“ä½œç³»ç»Ÿä¸æ•¢éšæ„å˜åŠ¨ã€‚ä½†æ–‡æœ¬æ–‡ä»¶å†…å®¹ç®€å•ï¼Œå„ç±»æ“ä½œç³»ç»Ÿæ—©å°±æœ‰äº†è‡ªå·±çš„å¤„ç†æ–¹å¼ã€‚

å³ä½¿åˆ°ä»Šå¤©ï¼Œä¸åŒæ“ä½œç³»ç»Ÿå¤„ç†æ–‡æœ¬æ–‡ä»¶çš„æ–¹å¼ä»ç„¶å…·æœ‰å·®å¼‚ã€‚

| å·®å¼‚       | UNIX        | Windows     | MacOS                             |
| :--------- | :---------- | :---------- | :-------------------------------- |
| æ¢è¡Œç¬¦     | `\n` LF     | `\r\n` CRLF | `\n` ( è¾ƒæ—©çš„ MacOS ä½¿ç”¨`\r` ) LF |
| æ–‡ä»¶ç»“æŸç¬¦ | `^D` Ctrl+D | `^Z` Ctrl+Z | `^D` Ctrl+D                       |

> éƒ½æ˜¯å†å²çš„é”…ï¼
>
> ç”šè‡³æœ‰çš„æ“ä½œç³»ç»Ÿè¿™æ ·å¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼š
>
> - è¦æ±‚æ–‡æœ¬æ–‡ä»¶ä¸­æ¯ä¸€è¡Œçš„é•¿åº¦ç›¸åŒï¼Œå¦åˆ™ç”¨ç©ºç™½å­—ç¬¦å¡«å……ã€‚
> - åœ¨æ¯è¡Œå¼€å§‹æ ‡å‡ºè¡Œçš„é•¿åº¦ã€‚

#### æµçš„ç±»å‹

C è¯­è¨€æä¾›ä¸¤ç§æµï¼šæ–‡æœ¬æµå’ŒäºŒè¿›åˆ¶æµã€‚

- æ–‡æœ¬æµï¼šç¨‹åºæ‰€è§çš„å†…å®¹å¯èƒ½å’Œå®é™…å†…å®¹ä¸åŒã€‚å¦‚æœå°†æ–‡ä»¶ä»¥æ–‡æœ¬æ¨¡å¼æ‰“å¼€ï¼Œé‚£ä¹ˆåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œä¼šæŠŠæœ¬åœ°ç¯å¢ƒè¡¨ç¤ºçš„æ¢è¡Œç¬¦æˆ–æ–‡ä»¶ç»“å°¾æ˜ å°„ä¸º C è¯­è¨€ä¸­çš„ `\n` å’Œ `EOF`ã€‚
- äºŒè¿›åˆ¶æµï¼šç¨‹åºæ‰€è§çš„å†…å®¹å’Œå®é™…å†…å®¹ä¸€è‡´ã€‚å¦‚æœå°†æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€ï¼Œé‚£ä¹ˆåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œä¼šæŠŠæ–‡ä»¶ä¸­çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½æ˜ å°„ä¸º C è¯­è¨€ä¸­çš„ `char`ã€‚

### å†…å®¹

- ç±»å‹

  ```
  size_t
  FILE
  fpos_t
  ```

- å®

  ```
  stderr
  stdin
  stdout
  NULL
  EOF
  SEEK_CUR
  SEEK_END
  SEEK_SET
  // BUFSIZ
  // FOPEN_MAX
  // FILENAME_MAX
  ```

- å‡½æ•°

  - æ–‡ä»¶æ“ä½œå‡½æ•°ï¼ˆä¸åšè¦æ±‚ï¼‰

    ```
    // int remove(const char *filename);
    // int rename(const char *old, const char *new);
    // FILE *tmpfile(void);
    ```

  - æ–‡ä»¶è®¿é—®å‡½æ•°

    ```
    int fclose(FILE *stream);
    // int fflush(FILE *stream);
    FILE *fopen(const char *filename, const char *mode);
    FILE *freopen(const char *filename, const char *mode, FILE *stream);
    // void setbuf(FILE *stream, char *buf);
    // int setvbuf(FILE *stream, char *buf, int mode, size_t size);
    ```

  - æ ¼å¼åŒ–çš„è¾“å…¥è¾“å‡ºå‡½æ•°

    ```
    int fprintf(FILE *stream, const char *format, ...);
    int fscanf(FILE *stream, const char *format, ...);
    int printf(const char *format, ...);
    int scanf(const char *format, ...);
    int sprintf(char *str, const char *format, ...);
    int sscanf(const char *str, const char *format, ...);
    // int vfprintf(FILE *stream, const char *format, va_list arg);
    ```

  - å­—ç¬¦è¾“å…¥è¾“å‡ºå‡½æ•°

    ```
    // int fgetc(FILE *stream);
    // char *fgets(char *str, int n, FILE *stream);
    // int fputc(int c, FILE *stream);
    int fputs(const char *str, FILE *stream);
    // int getc(FILE *stream);
    int getchar(void);
    // char *gets(char *str);
    // int putc(int c, FILE *stream);
    int putchar(int c);
    int puts(const char *str);
    // int ungetc(int c, FILE *stream);
    ```

  - ç›´æ¥è¾“å…¥è¾“å‡ºå‡½æ•°ï¼ˆè€ƒè¯•ä¸ç®¡ï¼‰

    ```
    size_t fread(void *ptr, size_t size, size_t nobj, FILE *stream);
    size_t fwrite(const void *ptr, size_t size, size_t nobj, FILE *stream);
    ```

  - æ–‡ä»¶å®šä½å‡½æ•°ï¼ˆè€ƒè¯•ä¸ç®¡ï¼‰

    ```
    //int fgetpos(FILE *stream, fpos_t *pos);
    int fseek(FILE *stream, long offset, int origin);
    //int fsetpos(FILE *stream, const fpos_t *pos);
    long ftell(FILE *stream);
    void rewind(FILE *stream);
    ```

  - é”™è¯¯å¤„ç†å‡½æ•°ï¼ˆä¸åšè¦æ±‚ï¼‰

    ```
    // void clearerr(FILE *stream);
    // int feof(FILE *stream);
    // int ferror(FILE *stream);
    // void perror(const char *str);
    ```

### ä½¿ç”¨

ä»¥ä¸‹æ˜¯è¯¾å†…å†…å®¹ï¼Œä»…åˆ—å‡ºï¼Œä¸åšè¯¦ç»†ä»‹ç»ï¼š

- `printf`/ `scanf`è¿™å‡ ä¸ªæ ¼å¼åŒ–è¾“å…¥ / è¾“å‡ºå‡½æ•°çš„ä½¿ç”¨ã€‚

- `%d`ã€`%p` ç­‰è½¬æ¢è¯´æ˜çš„ä½¿ç”¨ã€‚

- `\n`ã€`\r` ç­‰å¸¸è§è½¬ä¹‰åºåˆ—çš„ä½¿ç”¨ã€‚

- åŸºæœ¬çš„æ‰“å¼€ã€å…³é—­æ–‡ä»¶ `fopen`ã€`fclose` çš„ä½¿ç”¨ã€‚

- `r`ã€`w`ã€`a`ã€`b` ç­‰æ¨¡å¼çš„ä½¿ç”¨ã€‚

- åœ¨ä¸€ä¸ªFILEä¸­ç”¨fscanf fprintfè¯»å†™æ•°æ®ã€‚

  - `fread` å’Œ `fwrite` è¯¾ä¸Šåº”è¯¥ä¼šè®²ï¼Œä½†æ˜¯ç¼–ç¨‹ä¹Ÿä¸ä¼šè¦æ±‚çš„ã€‚

ä¸‹é¢å¯¹å‡ ä¸ªçŸ¥è¯†ç‚¹ä½œä¸€ç‚¹è§„èŒƒä»‹ç»ï¼š

è½¬æ¢è¯´æ˜

è§„èŒƒçš„è¯´æ˜è¯·çœ‹è¿™é‡Œï¼š

- [`printf`](https://zh.cppreference.com/w/c/io/fprintf)
- [`scanf`](https://zh.cppreference.com/w/c/io/fscanf)



æ™®éè¯¯åŒº

é’ˆå¯¹åŒå­¦ä»¬æ™®éçš„è¯¯åŒºåšå‡ ç‚¹å¼ºè°ƒè¯´æ˜ï¼š

- scanf
  
  - `%s` åªè¯»å–éç©ºç™½å­—ç¬¦ï¼Œé‡åˆ°ç©ºç™½å­—ç¬¦å°±ç»“æŸã€‚
  - `%c` åªè¯»å–ä¸€ä¸ªå­—ç¬¦ï¼Œé‡åˆ°ç©ºç™½å­—ç¬¦ä¹Ÿä¼šè¯»å–ã€‚
  
  è¿˜è®°å¾—ä¸Šé¢ `<ctype.h>` åˆšåˆšè®²çš„ç©ºç™½å­—ç¬¦å—ï¼Ÿ

  - å¦‚æœè½¬æ¢ä¸å­—ç¬¦åŒ¹é…å¤±è´¥ï¼Œ**è¿™ä¸ªè¾“å…¥å­—ç¬¦ä¼šç•™åœ¨è¾“å…¥æµä¸­**ã€‚åœ¨ä½ ä¸‹ä¸€æ¬¡è¯»å–å­—ç¬¦æ—¶ï¼Œå®ƒå¯èƒ½ä¼šæ£ä¹±ï¼
  - è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥åŠ å–å€¼ç¬¦ `&`ï¼Ÿ

è¾“å…¥è¾“å‡ºå‡½æ•°çš„è¿”å›å€¼

å¤§å®¶å¹³å¸¸ä½¿ç”¨å¯èƒ½ä¸å¤ªå…³æ³¨ã€‚ä½†è¿˜æ˜¯æœ‰è€ƒå¯Ÿçš„å¯èƒ½ï¼š

- printfã€fprintfã€sprintfã€snprintf
  - æ­£å¸¸ï¼šè¿”å›ä¼ è¾“çš„å­—ç¬¦æ•°
  - å¼‚å¸¸ï¼šè¿”å›è´Ÿæ•°

- scanfã€fscanfã€sscanf
  - æ­£å¸¸ï¼šè¿”å›æˆåŠŸåŒ¹é…å¹¶èµ‹å€¼çš„è¾“å…¥é¡¹æ•°
  - å¼‚å¸¸ï¼šè¿”å› `EOF`
